((i,Drupal)=>{function t(e){e.find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible").first().focus()}function n(){var e=document.body;window.innerWidth<992||e.classList.contains("is-always-mobile-nav")?e.classList.add("is-mobile-nav"):e.classList.remove("is-mobile-nav")}Drupal.trapFocus={},Drupal.trapFocus.trap=function(e,a){var t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),n=t[0],i=t[t.length-1],s=!1;n.focus(),(s=void 0!==a?!0:s)&&a.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===a&&(i.focus(),e.preventDefault()):document.activeElement===a&&(n.focus(),e.preventDefault()))}),e.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement!==n||s||(i.focus(),e.preventDefault()):document.activeElement===i&&((s?a:n).focus(),e.preventDefault()))}),document.body.addEventListener("keyup",function(e){"Escape"!==e.key&&27!==e.keyCode||(s?a:t[t.length-1]).focus()},{once:!0})},Drupal.behaviors.addMobileClass={attach:function(e,a){i(once("add-mobile-class","body",e)).each(function(){n(),window.addEventListener("resize",n)})}},Drupal.trapFocus.untrap=function(a){console.log("In Untrap focus");var e=document.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),t=[];a.focus();for(var n=0;n<e.length;n++)null!==e[n].offsetParent&&t.filter(":visible").push(e[n]);for(var i=0;i<t.length;i++)t[i]==a&&(console.log("result prev: ",t[i-1]),console.log("result next: ",t[i+1]),a.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===a&&(t[i-1].focus(),e.preventDefault()):document.activeElement===a&&(t[i+1].focus(),e.preventDefault()))}));document.body.addEventListener("keyup",function(e){"Escape"!==e.key&&27!==e.keyCode||!a||a.focus()},{once:!0})};var s={},r={};Drupal.behaviors.searchMenu={attach:function(e,a){s=i("#search-menu"),r=i("#search-menu-anchor"),i(".search-menu__close"),i(once("search-menu-anchor","#search-menu-anchor",e)).each(function(){i(this).click(function(e){e.preventDefault(),Drupal.behaviors.searchMenu.toggle()})}),i(once("search-menu-close",".search-menu__close",e)).each(function(){i(this).click(function(e){e.preventDefault(),Drupal.behaviors.searchMenu.hide()})}),document.body.addEventListener("keyup",function(e){e.key&&"Escape"===e.key&&(i(".js-language-selector-trigger").attr("aria-expanded","false"),Drupal.behaviors.searchMenu.hide(!0))}),i(".link--open-search").each(function(){i(once("link-open-search",this,e)).click(function(e){e.preventDefault(),Drupal.behaviors.searchMenu.show(!0)})})},toggle:function(e){e=void 0===e||e,s.is(":visible")?Drupal.behaviors.searchMenu.hide(e):Drupal.behaviors.searchMenu.show(e)},show:function(e){var a=document.querySelector("#search-menu");e=void 0===e||e,r.addClass("active"),r.attr("aria-expanded",!0),Drupal.trapFocus.trap(a),e?s.slideDown(function(){t(s)}):s.show(function(){t(s)})},hide:function(e){e=void 0===e||e,r.removeClass("active"),r.attr("aria-expanded",!1),e?s.slideUp():s.hide()}},Drupal.behaviors.languageSelectorTrigger={attach:function(e,a){i(once("js-language-selector-trigger",".js-language-selector-trigger",e)).each(function(){var e=i(".js-language-selector-trigger");i(this).on("click",function(){"true"===i(this).attr("aria-expanded")?i(this).attr("aria-expanded","false"):(e.attr("aria-expanded","false"),i(this).attr("aria-expanded","true"))})}),document.body.addEventListener("keyup",function(e){e.key&&"Escape"===e.key&&i(".js-language-selector-trigger").attr("aria-expanded","false")}),document.body.addEventListener("click",function(e){i(e.target).parents(".js-language-selector").length||i(".js-language-selector-trigger").attr("aria-expanded","false")})}},Drupal.behaviors.languageLastWord={attach:function(e,a){i(once("language-switcher__dropdown",".language-switcher__dropdown .language-switcher__item",e)).each(function(){var e=i(this).find("a"),a=e.text().split(/\s+/),t=a.shift(),a=a.join(" "),n=e.attr("hreflang");i(this).addClass(n),e.html([' <span class="first-word">',t,"</span>",' <span class="last-word">',a,"</span>"].join(""))})}},Drupal.behaviors.languageBarBtn={attach:function(e,a){i(once("site-language-bar__close-btn",".site-language-bar__close-btn",e)).each(function(){i(this).on("click",function(){var e=i(this).parents(".site-language-bar");e.slideUp("slow",function(){e.remove()})})})}},Drupal.behaviors.languageBar={attach:function(e,a){var t=i(".links.language-switcher__items .is-active a").attr("href"),n=(i(".site-language-bar .language-switcher__dropdown a").on("click",function(e){var a;e.preventDefault(),t=i(this).attr("href"),e=i(this).html(),a=i(this).attr("hreflang"),i(this).parents(".language-switcher").find(".language-switcher__anchor").removeClass(function(e,a){return(a.match(new RegExp("\\S*language-switcher__anchor--\\S*","g"))||[]).join(" ")}),i(this).parents(".language-switcher").find(".language-switcher__anchor").attr("aria-expanded","false"),i(this).parents(".language-switcher").find(".language-switcher__label").html(e),i(this).parents(".language-switcher").find(".language-switcher__anchor").addClass("language-switcher__anchor--"+a)}),i(".site-language-bar .site-language-bar__submit-btn").on("click",function(){var e;t||(e=i(".site-language-bar .language-switcher").find(".language-link.is-active").attr("href"),t=e||"/en/homepage"),window.location.href=t}),i(".js-language-selector-trigger"));i("#block-languageswitcher-banner .js-language-selector-trigger").on("click",function(){n.attr("aria-expanded","false"),i(this).attr("aria-expanded","true")})}}})(jQuery,Drupal);