((s,Drupal)=>{var a={};function i(e){return e.substring(e.lastIndexOf(": ")+1,e.lastIndexOf("px"))}function t(e){e.find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible").first().focus()}a=null!=drupalSettings.calibr8_easytheme?s.extend({breakpoints:{sm:drupalSettings.calibr8_easytheme.breakpoints.sm,md:drupalSettings.calibr8_easytheme.breakpoints.md,lg:drupalSettings.calibr8_easytheme.breakpoints.lg,xl:drupalSettings.calibr8_easytheme.breakpoints.xl}},drupalSettings.calibr8):{breakpoints:{sm:"screen and (min-width: 392px)",md:"screen and (min-width: 692px)",lg:"screen and (min-width: 992px)",xl:"screen and (min-width: 992px)"}},s(document).ready(function(){s("a.js-anchor-link").on("click",function(e){e.preventDefault();e=this.hash,e=s(e);s("html, body").animate({scrollTop:e.offset().top},1e3,"swing")})}),i(a.breakpoints.lg),a.breakpoints.md,Drupal.trapFocus={},Drupal.trapFocus.trap=function(e,n){var t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),a=t[0],i=t[t.length-1],s=!1;a.focus(),(s=void 0!==n?!0:s)&&n.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===n&&(i.focus(),e.preventDefault()):document.activeElement===n&&(a.focus(),e.preventDefault()))}),e.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement!==a||s||(i.focus(),e.preventDefault()):document.activeElement===i&&((s?n:a).focus(),e.preventDefault()))}),document.body.addEventListener("keyup",function(e){"Escape"!==e.key&&27!==e.keyCode||(s?n:t[t.length-1]).focus()},{once:!0})},Drupal.trapFocus={},Drupal.trapFocus.trap=function(e,n){var t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),a=t[0],i=t[t.length-1],s=!1;a.focus(),(s=void 0!==n?!0:s)&&n.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===n&&(i.focus(),e.preventDefault()):document.activeElement===n&&(a.focus(),e.preventDefault()))}),e.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement!==a||s||(i.focus(),e.preventDefault()):document.activeElement===i&&((s?n:a).focus(),e.preventDefault()))}),document.body.addEventListener("keyup",function(e){"Escape"!==e.key&&27!==e.keyCode||(s?n:t[t.length-1]).focus()},{once:!0})},Drupal.trapFocus.untrap=function(n){console.log("In Untrap focus");var e=document.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),t=[];n.focus();for(var a=0;a<e.length;a++)null!==e[a].offsetParent&&t.filter(":visible").push(e[a]);for(var i=0;i<t.length;i++)t[i]==n&&(console.log("result prev: ",t[i-1]),console.log("result next: ",t[i+1]),n.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===n&&(t[i-1].focus(),e.preventDefault()):document.activeElement===n&&(t[i+1].focus(),e.preventDefault()))}));document.body.addEventListener("keyup",function(e){"Escape"!==e.key&&27!==e.keyCode||!n||n.focus()},{once:!0})};var o={},r={},c={},u=!1,l=(Drupal.behaviors.mobileMenu={attach:function(e,n){o=s(".site-header .block--menu--main"),s(".site-header .block--menu--secondary"),r=s("#mobile-menu-anchor"),s("#mobile-menu-btn"),c=s("#mobile-menu"),s(once("mobile-menu","#mobile-menu",e)).each(function(){s(window).width()<=i(a.breakpoints.lg)-1?Drupal.behaviors.mobileMenu.activate():Drupal.behaviors.mobileMenu.deactivate(),s(window).resize(function(){Drupal.behaviors.mobileMenu.resize()}),s(window).resize()}),s(once("mobile-menu","#mobile-menu-anchor",e)).each(function(){s(this).click(function(e){e.preventDefault(),Drupal.behaviors.mobileMenu.toggle()})}),s(once("mobile-menu-btn","#mobile-menu-btn",e)).each(function(){s(this).click(function(e){e.preventDefault(),Drupal.behaviors.mobileMenu.toggle()})}),s("body").on("mouseup touchstart",function(e){c.is(e.target)||0!==c.has(e.target).length||Drupal.behaviors.mobileMenu.hide()}),document.body.addEventListener("keyup",function(e){e.key&&"Escape"===e.key&&(s(".mobile-menu__button").attr("aria-expanded","false"),Drupal.behaviors.mobileMenu.hide(!0))}),s("#mobile-menu .main-menu__items--sub-menu .js-active-trail",e).each(function(){s(this).parents(".main-menu__items--sub-menu").siblings("button").attr("aria-expanded","true"),s(this).parents(".main-menu__items--sub-menu").removeClass("is-hidden")})},resize:function(){var e,t,n;s(window).width()<=i(a.breakpoints.lg)-1||(t=e=0,o.is(":visible")?(e=o.innerWidth(),s("> ul.menu > li",o).each(function(e,n){t+=s(n).outerWidth()})):(n=!1,o.is(":visible")||(n=!0,o.attr("style","display: block;")),e=o.innerWidth(),s("> ul.menu > li",o).each(function(e,n){t+=s(n).outerWidth()}),n&&o.attr("style","")),t>e-s(".header-anchors").width()-32&&0<e)?Drupal.behaviors.mobileMenu.activate():Drupal.behaviors.mobileMenu.deactivate()},activate:function(){u=!0,s("body").removeClass("mobile-menu--disabled"),s("body").addClass("mobile-menu--enabled")},deactivate:function(){u=!1,s("body").removeClass("mobile-menu--enabled"),s("body").addClass("mobile-menu--disabled"),Drupal.behaviors.mobileMenu.hide()},toggle:function(e){e=void 0===e||e,c.is(":visible")?(Drupal.behaviors.mobileMenu.hide(e),s("html").css("overflow","auto")):(Drupal.behaviors.mobileMenu.show(e),s("html").css("overflow","hidden"))},show:function(e){e=void 0===e||e,r.addClass("active"),r.attr("aria-expanded",!0),Drupal.behaviors.searchMenu.hide(!1),e?c.slideDown(function(){t(c)}):c.show(function(){t(c)})},hide:function(e){e=void 0===e||e,r.removeClass("active"),r.attr("aria-expanded",!1),e?c.slideUp():c.hide()}},{}),d={},h=(Drupal.behaviors.searchMenu={attach:function(e,n){l=s("#search-menu"),d=s("#search-menu-anchor"),s(".search-menu__close"),s(once("search-menu-anchor","#search-menu-anchor",e)).each(function(){s(this).click(function(e){e.preventDefault(),Drupal.behaviors.searchMenu.toggle()})}),s(once("search-menu-close",".search-menu__close",e)).each(function(){s(this).click(function(e){e.preventDefault(),Drupal.behaviors.searchMenu.hide()})}),document.body.addEventListener("keyup",function(e){e.key&&"Escape"===e.key&&(s(".js-language-selector-trigger").attr("aria-expanded","false"),Drupal.behaviors.searchMenu.hide(!0))}),s(".link--open-search").each(function(){s(once("link-open-search",this,e)).click(function(e){e.preventDefault(),Drupal.behaviors.searchMenu.show(!0)})})},toggle:function(e){e=void 0===e||e,l.is(":visible")?Drupal.behaviors.searchMenu.hide(e):Drupal.behaviors.searchMenu.show(e)},show:function(e){var n=document.querySelector("#search-menu");e=void 0===e||e,d.addClass("active"),d.attr("aria-expanded",!0),Drupal.trapFocus.trap(n),Drupal.behaviors.mobileMenu.hide(!1),e&&u?l.slideDown(function(){t(l)}):l.show(function(){t(l)})},hide:function(e){e=void 0===e||e,d.removeClass("active"),d.attr("aria-expanded",!1),e&&u?l.slideUp():l.hide()}},s("#mobile-menu .block--menu--main"));Drupal.behaviors.mobileMenuAccordeon={attach:function(e,n){s(once("mobile-menu-main","#mobile-menu .block--menu--main",e)).each(function(){s(".menu-item--active-trail",h).each(function(){s(this).addClass("menu-item--active-js")}),s(".menu-item--expanded",h).each(function(){s("> a",this).after('<span class="anchor"></span>'),s(".anchor",this).bind("click",function(e){e.preventDefault();var e=s(this).closest("#mobile-menu .block--menu--main > ul"),n=s(this).closest(".menu-item").hasClass("menu-item--active-js");s(".menu-item",e).removeClass("menu-item--active-js"),s(this).parents(".menu-item").addClass("menu-item--active-js"),n&&s(this).closest(".menu-item").removeClass("menu-item--active-js")})})})}},Drupal.behaviors.languageSelectorTrigger={attach:function(e,n){s(once("js-language-selector-trigger",".js-language-selector-trigger",e)).each(function(){var e=s(".js-language-selector-trigger");s(this).on("click",function(){"true"===s(this).attr("aria-expanded")?s(this).attr("aria-expanded","false"):(e.attr("aria-expanded","false"),s(this).attr("aria-expanded","true"))})}),document.body.addEventListener("keyup",function(e){e.key&&"Escape"===e.key&&s(".js-language-selector-trigger").attr("aria-expanded","false")}),document.body.addEventListener("click",function(e){s(e.target).parents(".js-language-selector").length||s(".js-language-selector-trigger").attr("aria-expanded","false")})}},Drupal.behaviors.languageLastWord={attach:function(e,n){s(once("language-switcher__dropdown",".language-switcher__dropdown .language-switcher__item",e)).each(function(){var e=s(this).find("a"),n=e.text().split(/\s+/),t=n.shift(),n=n.join(" "),a=e.attr("hreflang");s(this).addClass(a),e.html([' <span class="first-word">',t,"</span>",' <span class="last-word">',n,"</span>"].join(""))})}},Drupal.behaviors.languageBarBtn={attach:function(e,n){s(once("site-language-bar__close-btn",".site-language-bar__close-btn",e)).each(function(){s(this).on("click",function(){var e=s(this).parents(".site-language-bar");e.slideUp("slow",function(){e.remove()})})})}},Drupal.behaviors.languageBar={attach:function(e,n){var t=s(".links.language-switcher__items .is-active a").attr("href"),a=(s(".site-language-bar .language-switcher__dropdown a").on("click",function(e){var n;e.preventDefault(),t=s(this).attr("href"),e=s(this).html(),n=s(this).attr("hreflang"),s(this).parents(".language-switcher").find(".language-switcher__anchor").removeClass(function(e,n){return(n.match(new RegExp("\\S*language-switcher__anchor--\\S*","g"))||[]).join(" ")}),s(this).parents(".language-switcher").find(".language-switcher__anchor").attr("aria-expanded","false"),s(this).parents(".language-switcher").find(".language-switcher__label").html(e),s(this).parents(".language-switcher").find(".language-switcher__anchor").addClass("language-switcher__anchor--"+n)}),s(".site-language-bar .site-language-bar__submit-btn").on("click",function(){var e;t||(e=s(".site-language-bar .language-switcher").find(".language-link.is-active").attr("href"),t=e||"/en/homepage"),window.location.href=t}),s(".js-language-selector-trigger"));s("#block-languageswitcher-banner .js-language-selector-trigger").on("click",function(){a.attr("aria-expanded","false"),s(this).attr("aria-expanded","true")})}},Drupal.behaviors.searchFocus={attach:function(e,n){s("input",e).focus(function(e){s(this).parents("form").find(".form--inline")&&s(this).parents("form").find(".form--inline").addClass("is-focus")}),s("input",e).focusout(function(){s(this).parents("form").find(".is-focus")&&s(this).parents("form").find(".form--inline").removeClass("is-focus")})}},Drupal.behaviors.MainMenuAccessible={attach:function(e,n){var t=".main-navigation .main-menu__items",a=".main-menu__expand-trigger",i=".main-menu__items--sub-menu--level-1:not(.is-hidden)";s(t,e).each(function(){s(this).find(a).focus(function(){s(this).addClass("is-active")}),s(this).find(".main-menu__item--ground > a").focus(function(){s(this).parents(t).find(a).hasClass("is-active")&&s(this).parents(t).find(".main-menu__expand-trigger.is-active").removeClass("is-active"),s(this).parents(t).find(i)&&(s(this).parents(t).find(i).siblings(a).attr("aria-expanded","false"),s(this).parents(t).find(i).addClass("is-hidden"))})})}}})(jQuery,Drupal);